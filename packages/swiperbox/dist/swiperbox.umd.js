(function(a,d){typeof exports=="object"&&typeof module<"u"?d(exports,require("swiper"),require("swiper/modules")):typeof define=="function"&&define.amd?define(["exports","swiper","swiper/modules"],d):(a=typeof globalThis<"u"?globalThis:a||self,d(a.swiperbox={},a.Swiper,a.modules))})(this,function(a,d,l){"use strict";const m={index:0,swiper:{loop:!1,centeredSlides:!0},icons:{close:'<i class="fa-solid fa-xmark fa-2xl"></i>',next:'<i class="fa-solid fa-chevron-right"></i>',prev:'<i class="fa-solid fa-chevron-left"></i>',zoomIn:'<i class="fa-solid fa-search-plus fa-xl"></i>',zoomOut:'<i class="fa-solid fa-search-minus fa-xl"></i>',play:'<i class="fa-solid fa-play fa-xl"></i>',thumbsToggle:'<i class="fa-solid fa-th fa-xl"></i>'},items:[]};function b(){const e=document.createElement("dialog");return e.open=!0,e.addEventListener("close",()=>{document.body.removeChild(e)}),document.addEventListener("keydown",t=>{t.key==="Escape"&&e.close()}),e}function w(e){try{const t=new URL(e);if(t.hostname==="www.youtube.com"||t.hostname==="youtube.com"){const i=t.searchParams.get("v");if(i)return`https://www.youtube.com/embed/${i}`}else{if(t.hostname==="youtu.be")return`https://www.youtube.com/embed/${t.pathname.slice(1)}`;if(t.hostname==="vimeo.com")return`https://player.vimeo.com/video/${t.pathname.slice(1)}`}}catch(t){console.error("Invalid URL:",t.message)}return e}function f(e,t){const i=document.createElement("div");i.classList.add("swiper"),i.classList.add("swiperbox__swiper_main"),i.innerHTML=`
    <div class="swiper-wrapper"></div>
	`;const r=i.querySelector(".swiper-wrapper");t.items.forEach(o=>{const s=document.createElement("div");s.classList.add("swiper-slide"),o.iframe?s.innerHTML=`
        <div class="swiperbox-iframe-container">
          <iframe src="${w(o.iframe)}" frameborder="0" allowfullscreen></iframe>
        </div>
      `:s.innerHTML=`
        <div class="swiper-zoom-container">
          <img src="${o.image}" alt="${o==null?void 0:o.alt}" loading="lazy">
          <div class="swiper-lazy-preloader"></div>
        </div>
      `,r.appendChild(s)}),new d(i,{...t.swiper,modules:[l.Navigation,l.Pagination,l.Zoom,l.Thumbs,l.Keyboard],initialSlide:t.index,zoom:{maxRatio:1.5,toggle:!0},pagination:{type:"fraction",el:e.querySelector(".swiperbox__pagination")},keyboard:{enabled:!0},thumbs:{swiper:e.querySelector(".swiperbox__swiper_thumbs")}}),e.querySelector(".swiperbox__wrapper").appendChild(i)}function v(e,t){if(t.items.length<=1)return;const i=document.createElement("div");i.classList.add("swiper"),i.classList.add("swiperbox__swiper_thumbs"),i.innerHTML=`
		<div class="swiper-wrapper"></div>
		<button class="swiperbox-button-prev">${t.icons.prev}</button>
		<button class="swiperbox-button-next">${t.icons.next}</button>
	`;const r=i.querySelector(".swiper-wrapper");t.items.forEach(s=>{const n=document.createElement("div");n.classList.add("swiper-slide"),n.innerHTML=`<img src="${s.thumb}" alt="${s==null?void 0:s.alt}">`,r.appendChild(n),s.video&&(n.innerHTML=`
        <img src="${s.thumb}" alt="${s==null?void 0:s.alt}">
        <div class="swiperbox-thumb-play-icon">${t.icons.play}</div>
      `)}),new d(i,{modules:[l.Navigation],initialSlide:t.index,slidesPerView:"auto",centerInsufficientSlides:!0,spaceBetween:20,initialSlide:0,navigation:{nextEl:i.querySelector(".swiperbox-button-next"),prevEl:i.querySelector(".swiperbox-button-prev")}});const o=e.querySelector(".swiperbox__thumbs");o.appendChild(i),o.classList.remove("hidden")}function h(e,t){if(t.items.length<=1)return;const i=e.querySelector(".swiperbox__thumbs"),r=document.createElement("button");r.innerHTML=t.icons.thumbsToggle,r.addEventListener("click",()=>{i.classList.toggle("hidden")}),e.querySelector(".swiperbox__buttons").appendChild(r)}function y(e,t){const i=document.createElement("button");i.innerHTML=t.icons.close,i.addEventListener("click",()=>{e.close()}),e.querySelector(".swiperbox__buttons").appendChild(i)}function x(e,t){e.classList.add("swiperbox"),e.classList.add("swiperbox__dialog"),e.innerHTML=`
		<div class="swiperbox__container">
			<div class="swiperbox__wrapper"></div>
			<div class="swiperbox__thumbs hidden"></div>
			<div class="swiperbox__pagination"></div>
			<div class="swiperbox__buttons"></div>
		</div>
	`}function _(e,t){const i=document.createElement("button"),r=document.createElement("button");i.innerHTML=t.icons.zoomIn,r.innerHTML=t.icons.zoomOut,r.disabled=!0;const o=e.querySelector(".swiperbox__swiper_main").swiper;i.addEventListener("click",()=>{o.zoom.in(o.zoom.scale+.5)}),r.addEventListener("click",()=>{o.zoom.out()}),o.on("zoomChange",(s,n)=>{n===1?r.disabled=!0:r.disabled=!1}),e.querySelector(".swiperbox__buttons").appendChild(i),e.querySelector(".swiperbox__buttons").appendChild(r)}function p(e){if(e={...m,...e},!Array.isArray(e.items)||e.items.length===0)throw new Error("Invalid items");e.items.forEach(i=>{if(typeof i!="object"||!i.image&&!i.iframe)throw new Error("Invalid item. Must be an object with image or iframe")});const t=b();x(t),v(t,e),h(t,e),f(t,e),_(t,e),y(t,e),document.body.appendChild(t)}function u(e,t={}){var i=[];const r=(o,s=0)=>{o.preventDefault(),p({...t,items:i,index:s})};e instanceof HTMLElement?i=[c(e,r)]:typeof e===NodeList||Array.isArray(e)?i=Array.from(e).map((o,s)=>c(o,n=>r(n,s))):typeof e=="string"&&(i=Array.from(document.querySelectorAll(e)).map((o,s)=>c(o,n=>r(n,s)))),i.length===0&&console.error("No items found")}function c(e,t){return e.addEventListener("click",t),{thumb:e.dataset.thumb,image:e.dataset.image,iframe:e.dataset.iframe||e.dataset.video,video:!!e.dataset.video}}const L={bind:u,open:p};document.addEventListener("DOMContentLoaded",()=>{const e={};document.querySelectorAll("[data-swiperbox]").forEach(t=>{const i=t.dataset.swiperbox;e[i]||(e[i]=[]),e[i].push(t)});for(const t in e)u(e[t])}),a.Swiperbox=L,Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})});
